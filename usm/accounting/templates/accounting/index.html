{% extends "accounting/base.html" %}
{% block content %}
<script src="{{ STATIC_URL }}assets/js/xcharts.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/d3.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/jquery-2.1.0.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/jquery.flot.pie.min.js"></script>

      <div class="row">
        
        <div class="col-xs-12">
        
        <div class="main-chart">
          <div class="bar simple">
            
            <div class="title">MAY</div>
            <div class="value">100%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">JUN</div>
            <div class="value">60%</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">JUL</div>
            <div class="value">50%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">AUG</div>
            <div class="value">40%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">SEP</div>
            <div class="value">10%</div>
          
          </div>  
          
          <div class="bar">
            
            <div class="title">OCT</div>
            <div class="value">30%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">NOV</div>
            <div class="value">50%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">DEC</div>
            <div class="value">65%</div>
          
          </div>    

          <div class="bar">
            
            <div class="title">JAN</div>
            <div class="value">{{society.account.tabulate_transactions_jan}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">FEB</div>
            <div class="value">{{society.account.tabulate_transactions_feb}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">MAR</div>
            <div class="value">{{society.account.tabulate_transactions_mar}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">APR</div>
            <div class="value">{{society.account.tabulate_transactions_apr}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">MAY</div>
            <div class="value">{{society.account.tabulate_transactions_may}}</div>
          
          </div>  
          
          <div class="bar simple">
            
            <div class="title">JUN</div>
            <div class="value">{{society.account.tabulate_transactions_jun}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">JUL</div>
            <div class="value">{{society.account.tabulate_transactions_jul}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">AUG</div>
            <div class="value">{{society.account.tabulate_transactions_aug}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">SEP</div>
            <div class="value">{{society.account.tabulate_transactions_sep}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">OCT</div>
            <div class="value">{{society.account.tabulate_transactions_oct}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">NOV</div>
            <div class="value">{{society.account.tabulate_transactions_nov}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">DEC</div>
            <div class="value">{{society.account.tabulate_transactions_dec}}</div>
          
          </div>
          
        </div>
        
        </div><!--/col--> 
      
      </div><!--/row--> 

<div class="row">
        <div class="col-sm-4">

          <div class="smallchart green box mobileHalf">

            <div class="title">Total grant funding</div>


            <div class="value">€{{society.account.tabulate_grants.total}}</div>

          </div>

        </div><!--/col-->

                <div class="col-sm-4">

          <div class="smallchart red box mobileHalf">

            <div class="title">Total transactions</div>


            <div class="value">€{{society.account.tabulate_transactions.total}}</div>

          </div>

        </div><!--/col-->

                <div class="col-sm-4">

          <div class="smallchart blue box mobileHalf">

            <div class="title">Account balance</div>


            <div class="value">€{{society.account.tabulate_balance}}</div>

          </div>

        </div><!--/col-->
</div>


<div class="row">
  
    <div class="box">
      <div class="box-header">
        <h2><i class="fa fa-bar-chart-o"></i>Spending by month</h2>
          <div class="box-icon">      
            <a href="charts-flot.html#" class="btn-minimize"><i class="fa fa-chevron-up"></i></a>    
          </div>
      </div>
      <div class="box-content">
        <figure id="example1" style="height: 300px"></figure>
      </div>
    </div>
  
</div>

<script>
      
(function () {
      var data = {
  "xScale": "time",
  "yScale": "linear",
  
  "main": [
    {
      "className": ".monthly_transactions",
      "data": [
        {
          "x": "01",
<<<<<<< HEAD
          "y": "{{society.account.tabulate_transactions_jan}}"
        },
        {
          "x": "02",
          "y": "{{society.account.tabulate_transactions_feb}}"
        },      
        {
          "x": "03",
          "y": "{{society.account.tabulate_transactions_mar}}"
        },
        {
          "x": "04",
          "y": "{{society.account.tabulate_transactions_apr}}"
        },      
        {
          "x": "05",
          "y": "{{society.account.tabulate_transactions_may}}"
        },
        {
          "x": "06",
          "y": "{{society.account.tabulate_transactions_jun}}"
        },      
        {
          "x": "07",
          "y": "{{society.account.tabulate_transactions_jul}}"
        },
        {
          "x": "08",
          "y": "{{society.account.tabulate_transactions_aug}}"
        },      
        {
          "x": "09",
          "y": "{{society.account.tabulate_transactions_sep}}"
        },
        {
          "x": "10",
          "y": "{{society.account.tabulate_transactions_oct}}"
        },      
        {
          "x": "11",
          "y": "{{society.account.tabulate_transactions_nov}}"
        },
        {
          "x": "12",
          "y": "{{society.account.tabulate_transactions_dec}}"
=======
          "y": {{monthlyTotals.0.1.total}}
        },
        {
          "x": "02",
          "y": {{monthlyTotals.1.1.total}}
        },      
        {
          "x": "03",
          "y": {{monthlyTotals.2.1.total}}
        },
        {
          "x": "04",
          "y": {{monthlyTotals.3.1.total}}
        },      
        {
          "x": "05",
          "y": {{monthlyTotals.4.1.total}}
        },
        {
          "x": "06",
          "y": {{monthlyTotals.5.1.total}}
        },      
        {
          "x": "07",
          "y": {{monthlyTotals.6.1.total}}
        },
        {
          "x": "08",
          "y": {{monthlyTotals.7.1.total}}
        },      
        {
          "x": "09",
          "y": {{monthlyTotals.8.1.total}}
        },
        {
          "x": "10",
          "y": {{monthlyTotals.9.1.total}}
        },      
        {
          "x": "11",
          "y": {{monthlyTotals.10.1.total}}
        },
        {
          "x": "12",
          "y": {{monthlyTotals.11.1.total}}
>>>>>>> edd70cfcbc5698232e5f7a0e0163cb7bc77f5c61
        }
      ]
    }
  ]
};
      var opts = {
        "dataFormatX": function (x) { return d3.time.format('%m').parse(x); },
        "tickFormatX": function (x) { return d3.time.format('%b')(x); }
      };
      
      //var myChart = new xChart('line', data, '#example1', opts);
      
    }());
<<<<<<< HEAD

    /* ---------- Main Chart ---------- */
    if($('.main-chart')) {
      
      $('.main-chart > .bar').each(function(){
        
        var percent = $(this).find('.value').html();
        
        $(this).find('.value').html('');
        
        $(this).find('.value').animate({height:percent}, 2000);
        
      });
      
    }
    
</script>      
{% endblock %}
<!--
  1: get last 12 months of spending in 12 month vars


		author: Ross Kinsella	
		date:   2014/feb/13
}());
		Displays a list of all the models in the accounting app.

-->
<!--
<ul>  
	<li><a href="/accounting/accounts/">Accounts:<a></li>
  <li><a href="/accounting/transaction_categories/">Transaction categories:<a></li>
  <li><a href="/accounting/transaction_methods/">Transaction methods:<a></li>
  <li><a href="/accounting/transactions/">Transactions:<a></li>
  <li><a href="/accounting/bills/">Bills:<a></li>
  <li><a href="/accounting/invoices/">Invoices:<a></li>
  <li><a href="/accounting/grants/">Grants:<a></li>
</ul>-->
=======
</script>  

<script>
(function () {
  /* ---------- Pie chart ---------- */
  var data = [
  { label: "Internet Explorer",  data: 12},
  { label: "Mobile",  data: 27},
  { label: "Safari",  data: 85},
  { label: "Opera",  data: 64},
  { label: "Firefox",  data: 90},
  { label: "Chrome",  data: 112}
  ];
  
  if($("#piechart").length)
  {
    $.plot($("#piechart"), data,
    {
      series: {
          pie: {
              show: true
          }
      },
      grid: {
          hoverable: true,
          clickable: true
      },
      legend: {
        show: false
      },
      colors: ["#FA5833", "#2FABE9", "#FABB3D", "#78CD51"]
    });
    
    function pieHover(event, pos, obj)
    {
      if (!obj)
          return;
      percent = parseFloat(obj.series.percent).toFixed(2);
      $("#hover").html('<span style="font-weight: bold; color: '+obj.series.color+'">'+obj.series.label+' ('+percent+'%)</span>');
    }
    $("#piechart").bind("plothover", pieHover);
  }
});
</script>
{% endblock %}
>>>>>>> edd70cfcbc5698232e5f7a0e0163cb7bc77f5c61
