{% extends "accounting/base.html" %}
{% block content %}
<script src="{{ STATIC_URL }}assets/js/xcharts.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/d3.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/jquery-2.1.0.min.js"></script>
<script src="{{ STATIC_URL }}assets/js/jquery.flot.pie.min.js"></script>

      <div class="row">
        
        <div class="col-xs-12">
        
        <div class="main-chart">
          <div class="bar simple">
            
            <div class="title">MAY</div>
            <div class="value">100%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">JUN</div>
            <div class="value">60%</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">JUL</div>
            <div class="value">50%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">AUG</div>
            <div class="value">40%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">SEP</div>
            <div class="value">10%</div>
          
          </div>  
          
          <div class="bar">
            
            <div class="title">OCT</div>
            <div class="value">30%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">NOV</div>
            <div class="value">50%</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">DEC</div>
            <div class="value">65%</div>
          
          </div>    

          <div class="bar">
            
            <div class="title">JAN</div>
            <div class="value">{{society.account.tabulate_transactions_jan}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">FEB</div>
            <div class="value">{{society.account.tabulate_transactions_feb}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">MAR</div>
            <div class="value">{{society.account.tabulate_transactions_mar}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">APR</div>
            <div class="value">{{society.account.tabulate_transactions_apr}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">MAY</div>
            <div class="value">{{society.account.tabulate_transactions_may}}</div>
          
          </div>  
          
          <div class="bar simple">
            
            <div class="title">JUN</div>
            <div class="value">{{society.account.tabulate_transactions_jun}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">JUL</div>
            <div class="value">{{society.account.tabulate_transactions_jul}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">AUG</div>
            <div class="value">{{society.account.tabulate_transactions_aug}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">SEP</div>
            <div class="value">{{society.account.tabulate_transactions_sep}}</div>
          
          </div>
          
          <div class="bar">
            
            <div class="title">OCT</div>
            <div class="value">{{society.account.tabulate_transactions_oct}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">NOV</div>
            <div class="value">{{society.account.tabulate_transactions_nov}}</div>
          
          </div>
          
          <div class="bar simple">
            
            <div class="title">DEC</div>
            <div class="value">{{society.account.tabulate_transactions_dec}}</div>
          
          </div>
          
        </div>
        
        </div><!--/col--> 
      
      </div><!--/row--> 

<div class="row">
    <div class="col-sm-6">
      <div class="box">
        <div class="box-header" data-original-title>
          <h2><i class="fa fa-list-alt"></i><span class="break"></span>Spending by category</h2>
          <div class="box-icon">
            <a href="charts-flot.html#" class="btn-minimize"><i class="fa fa-chevron-up"></i></a>
          </div>
        </div>
        <div class="box-content">
           <div id="donutchart" style="height: 300px;">
             Insert pie chart here.
           </div>
        </div>
      </div>
    </div><!--/col-->    
  <div class="col-sm-6">
    <div class="box">
      <div class="box-header">
        <h2><i class="fa fa-bar-chart-o"></i>Spending by month</h2>
          <div class="box-icon">      
            <a href="charts-flot.html#" class="btn-minimize"><i class="fa fa-chevron-up"></i></a>    
          </div>
      </div>
      <div class="box-content">
        <figure id="example1" style="height: 300px"></figure>
      </div>
    </div>
  </div>
</div>


<script>
      
(function () {
   

      var data = {
  "xScale": "time",
  "yScale": "linear",
  
  "main": [
    {
      "className": ".monthly_transactions",
      "data": [
        {
          "x": "01",
          "y": "{{society.account.tabulate_transactions_jan}}"
        },
        {
          "x": "02",
          "y": "{{society.account.tabulate_transactions_feb}}"
        },      
        {
          "x": "03",
          "y": "{{society.account.tabulate_transactions_mar}}"
        },
        {
          "x": "04",
          "y": "{{society.account.tabulate_transactions_apr}}"
        },      
        {
          "x": "05",
          "y": "{{society.account.tabulate_transactions_may}}"
        },
        {
          "x": "06",
          "y": "{{society.account.tabulate_transactions_jun}}"
        },      
        {
          "x": "07",
          "y": "{{society.account.tabulate_transactions_jul}}"
        },
        {
          "x": "08",
          "y": "{{society.account.tabulate_transactions_aug}}"
        },      
        {
          "x": "09",
          "y": "{{society.account.tabulate_transactions_sep}}"
        },
        {
          "x": "10",
          "y": "{{society.account.tabulate_transactions_oct}}"
        },      
        {
          "x": "11",
          "y": "{{society.account.tabulate_transactions_nov}}"
        },
        {
          "x": "12",
          "y": "{{society.account.tabulate_transactions_dec}}"
        }
      ]
    }
  ]
};
      var opts = {
        "dataFormatX": function (x) { return d3.time.format('%m').parse(x); },
        "tickFormatX": function (x) { return d3.time.format('%b')(x); }
      };
      
      //var myChart = new xChart('line', data, '#example1', opts);
      
    }());

    /* ---------- Main Chart ---------- */
    if($('.main-chart')) {
      
      $('.main-chart > .bar').each(function(){
        
        var percent = $(this).find('.value').html();
        
        $(this).find('.value').html('');
        
        $(this).find('.value').animate({height:percent}, 2000);
        
      });
      
    }
    
</script>      
{% endblock %}
<!--
  1: get last 12 months of spending in 12 month vars


		author: Ross Kinsella	
		date:   2014/feb/13
}());
		Displays a list of all the models in the accounting app.

-->
<!--
<ul>  
	<li><a href="/accounting/accounts/">Accounts:<a></li>
  <li><a href="/accounting/transaction_categories/">Transaction categories:<a></li>
  <li><a href="/accounting/transaction_methods/">Transaction methods:<a></li>
  <li><a href="/accounting/transactions/">Transactions:<a></li>
  <li><a href="/accounting/bills/">Bills:<a></li>
  <li><a href="/accounting/invoices/">Invoices:<a></li>
  <li><a href="/accounting/grants/">Grants:<a></li>
</ul>-->
